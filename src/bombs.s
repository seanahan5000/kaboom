
; *** move these ***
bomb_phase      =   $90
bomb_index      =   $91

; *** 18 lines between bombs ***

draw_bombs
                lda #0                  ;***
                sta bomb_phase          ;***

                lda #topHeight
                clc
                adc bomb_phase
                sta linenum
                ldx #0
@1              stx bomb_index

                ldy linenum
                jsr draw_bomb

                lda linenum
                clc
                adc #2
                sta linenum

                ldx bomb_index
                inx
                cpx #8
                bne @1
                rts

; ~883 cycles (more with erase lines)
; 1103 cycles (16 bomb + 4 erase lines)
; 8824 cycles for 8 bombs
; DY of 1 to 4
draw_bomb
                ldx #0
@1              sty linenum
                lda hires_table_lo,y
                sta screenl
                lda hires_table_hi,y
                sta screenh
                ldy #10
                lda bomb_0,x
                sta (screenl),y
                inx
                iny
                lda bomb_0,x
                sta (screenl),y
                ldy linenum
                iny
                inx
                cpx #16*2               ;20*2
                bne @1
                sty linenum
                rts

bomb_0
                .byte $bb,$55
                .byte $ba,$55
                .byte $aa,$55
                .byte $ab,$55
                .byte $6a,$55
                .byte $2a,$57
                .byte $2a,$57
                .byte $6a,$55
                .byte $0a,$50
                .byte $02,$40
                .byte $7a,$5f
                .byte $7a,$5f
                .byte $7a,$5f
                .byte $02,$40
                .byte $0a,$50
                .byte $2a,$54

                ; .byte $2a,$55
                ; .byte $2a,$55
                ; .byte $2a,$55
                ; .byte $2a,$55

bomb_bits
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00100000
                .byte %00010000
                .byte %00001000
                .byte %00001000
                .byte %00010000
                .byte %00111000
                .byte %00111000
                .byte %01111100
                .byte %01111100
                .byte %00111000
                .byte %00111000
                .byte %00010000
                .byte %00000000		; bomb 0

                .byte %00000000
                .byte %00000000
                .byte %00100000
                .byte %00100000
                .byte %00010000
                .byte %00001000
                .byte %00001000
                .byte %00010000
                .byte %00111000
                .byte %00111000
                .byte %01111100
                .byte %01111100
                .byte %00111000
                .byte %00111000
                .byte %00010000
                .byte %00000000		; bomb 1

                .byte %00010000
                .byte %00110000
                .byte %00100000
                .byte %00100000
                .byte %00010000
                .byte %00001000
                .byte %00001000
                .byte %00010000
                .byte %00111000
                .byte %00111000
                .byte %01111100
                .byte %01111100
                .byte %00111000
                .byte %00111000
                .byte %00010000
                .byte %00000000		; bomb 2

                .byte %00100000
                .byte %01100000
                .byte %00100000
                .byte %00100000
                .byte %00010000
                .byte %00001000
                .byte %00001000
                .byte %00010000
                .byte %00111000
                .byte %00111000
                .byte %01111100
                .byte %01111100
                .byte %00111000
                .byte %00111000
                .byte %00010000
                .byte %00000000		; bomb 3



                ; .byte %................................
                ; .byte %................................
                ; .byte %................................
                ; .byte %........####....................
                ; .byte %............####................
                ; .byte %................####............
                ; .byte %................####............
                ; .byte %............####................
                ; .byte %........############............
                ; .byte %........############............
                ; .byte %....####################........
                ; .byte %....####################........
                ; .byte %........############............
                ; .byte %........############............
                ; .byte %............####................
                ; .byte %................................		; bomb 0

                ; .byte %................................
                ; .byte %................................
                ; .byte %........####....................
                ; .byte %........####....................
                ; .byte %............####................
                ; .byte %................####............
                ; .byte %................####............
                ; .byte %............####................
                ; .byte %........############............
                ; .byte %........############............
                ; .byte %....####################........
                ; .byte %....####################........
                ; .byte %........############............
                ; .byte %........############............
                ; .byte %............####................
                ; .byte %................................		; bomb 1

                ; .byte %............####................
                ; .byte %........########................
                ; .byte %........####....................
                ; .byte %........####....................
                ; .byte %............####................
                ; .byte %................####............
                ; .byte %................####............
                ; .byte %............####................
                ; .byte %........############............
                ; .byte %........############............
                ; .byte %....####################........
                ; .byte %....####################........
                ; .byte %........############............
                ; .byte %........############............
                ; .byte %............####................
                ; .byte %................................		; bomb 2

                ; .byte %........####....................
                ; .byte %....########....................
                ; .byte %........####....................
                ; .byte %........####....................
                ; .byte %............####................
                ; .byte %................####............
                ; .byte %................####............
                ; .byte %............####................
                ; .byte %........############............
                ; .byte %........############............
                ; .byte %....####################........
                ; .byte %....####################........
                ; .byte %........############............
                ; .byte %........############............
                ; .byte %............####................
                ; .byte %................................		; bomb 3



explode_bits
                .byte %00000100
                .byte %10100000
                .byte %00010010
                .byte %00010100
                .byte %10011100
                .byte %01011001
                .byte %01111100
                .byte %00111100
                .byte %10111000
                .byte %00011101
                .byte %00111100
                .byte %01111100
                .byte %01011010
                .byte %10010001
                .byte %00010100
                .byte %00000000		; explode 0

                .byte %00000000
                .byte %00000010
                .byte %00000000
                .byte %01010100
                .byte %00011100
                .byte %01011000
                .byte %01111100
                .byte %01111100
                .byte %00111000
                .byte %00011100
                .byte %00111100
                .byte %00111100
                .byte %00011000
                .byte %01011100
                .byte %00000000
                .byte %00000000		; explode 1

                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00011000
                .byte %00111100
                .byte %00111100
                .byte %00011000
                .byte %00111100
                .byte %00111100
                .byte %00011000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000
                .byte %00000000		; explode 2



                ; .byte %....................####........
                ; .byte %####....####....................
                ; .byte %............####........####....
                ; .byte %............####....####........
                ; .byte %####........############........
                ; .byte %....####....########........####
                ; .byte %....####################........
                ; .byte %........################........
                ; .byte %####....############............
                ; .byte %............############....####
                ; .byte %........################........
                ; .byte %....####################........
                ; .byte %....####....########....####....
                ; .byte %####........####............####
                ; .byte %............####....####........
                ; .byte %................................		; explode 0

                ; .byte %................................
                ; .byte %........................####....
                ; .byte %................................
                ; .byte %....####....####....####........
                ; .byte %............############........
                ; .byte %....####....########............
                ; .byte %....####################........
                ; .byte %....####################........
                ; .byte %........############............
                ; .byte %............############........
                ; .byte %........################........
                ; .byte %........################........
                ; .byte %............########............
                ; .byte %....####....############........
                ; .byte %................................
                ; .byte %................................		; explode 1

                ; .byte %................................
                ; .byte %................................
                ; .byte %................................
                ; .byte %................................
                ; .byte %............########............
                ; .byte %........################........
                ; .byte %........################........
                ; .byte %............########............
                ; .byte %........################........
                ; .byte %........################........
                ; .byte %............########............
                ; .byte %................................
                ; .byte %................................
                ; .byte %................................
                ; .byte %................................
                ; .byte %................................		; explode 2
